# ๐ฆ ูุธุงู ุงูุจุงูุงุช ูุน ุจูุงุจุฉ ุฏูุน Ziina

## โ ุชู ุฅูุฌุงุฒู

ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ููุจุงูุงุช ูุงูุงุดุชุฑุงูุงุช ูุน ุงูุฑุจุท ุจุจูุงุจุฉ ุฏูุน Ziina ูู ูุถุน ุงูุงุฎุชุจุงุฑ (Test Mode).

---

## ๐ฏ ุงูุจุงูุงุช ุงูุฃุฑุจุนุฉ

### 1. ุจุงูุฉ ุงูุทุงูุจ (Student Package)
- **ุงูุณุนุฑ:** 29 AED ุดูุฑูุงู
- **ุงููููุฒุงุช:**
  - ุงููุตูู ุฅูู ุฌููุน ุงูููุงุฏ ุงูุชุนููููุฉ
  - ุชูุฏูู ูุง ูุตู ุฅูู 10 ูุดุงุฑูุน ุดูุฑูุงู
  - ุงููุดุงุฑูุฉ ูู 5 ุชุญุฏูุงุช
  - ุงูุญุตูู ุนูู ุดูุงุฏุงุช ุนูุฏ ุงูุฅูุฌุงุฒ
  - ูุณุจ ุงูุดุงุฑุงุช ูุงูููุงูุขุช
  - ุฏุนู ุฃุณุงุณู
  - +100 ููุทุฉ ุฅุถุงููุฉ

### 2. ุจุงูุฉ ุงููุฏุฑุณ (Teacher Package) โญ
- **ุงูุณุนุฑ:** 99 AED ุดูุฑูุงู
- **ุงููููุฒุงุช:**
  - ุฅูุดุงุก ุฏูุฑุงุช ุบูุฑ ูุญุฏูุฏุฉ
  - ุฅุฏุงุฑุฉ ุทูุงุจ ุบูุฑ ูุญุฏูุฏูู
  - ุฅูุดุงุก ูุชูููู ุงููุดุงุฑูุน
  - ุชุตููู ุชุญุฏูุงุช ูุฎุตุตุฉ
  - ุฅุตุฏุงุฑ ุดูุงุฏุงุช
  - ุชุญูููุงุช ูุชูุงุฑูุฑ ูุชูุฏูุฉ
  - ุฏุนู ุฐู ุฃููููุฉ
  - ุฌุฏููุฉ ุฌูุณุงุช ูุจุงุดุฑุฉ
  - +500 ููุทุฉ ุฅุถุงููุฉ

### 3. ุจุงูุฉ ุงููุฏุฑุณุฉ (School Package)
- **ุงูุณุนุฑ:** 499 AED ุดูุฑูุงู
- **ุงููููุฒุงุช:**
  - ูุง ูุตู ุฅูู 50 ูุนููุงู
  - ูุง ูุตู ุฅูู 500 ุทุงูุจ
  - ุฏูุฑุงุช ููุดุงุฑูุน ุบูุฑ ูุญุฏูุฏุฉ
  - ุนูุงูุฉ ุชุฌุงุฑูุฉ ูุฎุตุตุฉ
  - ุชูุงุฑูุฑ ูุชุญูููุงุช ูุชูุฏูุฉ
  - ุงูุชูุงูู ูุน ุฃูุธูุฉ ุงููุฏุฑุณุฉ
  - ูุฏูุฑ ุญุณุงุจ ูุฎุตุต
  - ุฏุนู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ
  - ุฌูุณุงุช ุชุฏุฑูุจ ุงููุนูููู
  - ุดูุงุฏุงุช ูุฎุตุตุฉ
  - +2000 ููุทุฉ ุฅุถุงููุฉ

### 4. ุจุงูุฉ ุงููุคุณุณุฉ ุงูุชุนููููุฉ (Educational Institution Package)
- **ุงูุณุนุฑ:** 1499 AED ุดูุฑูุงู
- **ุงููููุฒุงุช:**
  - ูุนูููู ุบูุฑ ูุญุฏูุฏูู
  - ุทูุงุจ ุบูุฑ ูุญุฏูุฏูู
  - ุฏุนู ูุชุนุฏุฏ ุงููุฑูุน
  - ุญู ุจุนูุงูุฉ ุจูุถุงุก
  - ูุตูู API
  - ุชูุงููุงุช ูุฎุตุตุฉ
  - ููุฒุงุช ุฃูุงู ูุชูุฏูุฉ
  - ุจููุฉ ุชุญุชูุฉ ูุฎุตุตุฉ
  - ุชุฏุฑูุจ ูู ุงููููุน
  - ูุฑุงุฌุนุงุช ุฃุนูุงู ุฑุจุน ุณูููุฉ
  - ุทูุจุงุช ููุฒุงุช ุฐุงุช ุฃููููุฉ
  - ุฏุนู ูููุฒ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ
  - +10000 ููุทุฉ ุฅุถุงููุฉ

---

## ๐ง ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง/ุชุนุฏูููุง

### Backend Files

1. **`app/Services/ZiinaService.php`** โ
   - Service ููุฑุจุท ูุน ุจูุงุจุฉ ุฏูุน Ziina
   - ุฅูุดุงุก ุทูุจุงุช ุงูุฏูุน
   - ุงูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน
   - ูุนุงูุฌุฉ Webhooks
   - ุงูุชุญูู ูู Signatures

2. **`app/Http/Controllers/PackageSubscriptionController.php`** โ
   - ุนุฑุถ ุงูุจุงูุงุช ูููุณุชุฎุฏููู
   - ุงูุงุดุชุฑุงู ูู ุจุงูุฉ
   - ูุนุงูุฌุฉ ูุฌุงุญ/ุฅูุบุงุก ุงูุฏูุน
   - ุฅูุบุงุก ุงูุงุดุชุฑุงู
   - ุนุฑุถ ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏู

3. **`app/Http/Controllers/Api/ZiinaWebhookController.php`** โ
   - ุงุณุชูุจุงู Webhooks ูู Ziina
   - ูุนุงูุฌุฉ ุญุงูุงุช ุงูุฏูุน ุงููุฎุชููุฉ
   - ุชุญุฏูุซ ุญุงูุฉ ุงูุงุดุชุฑุงู

4. **`database/seeders/PackagesSeeder.php`** โ
   - ุฅูุดุงุก ุงูุจูุงูุงุช ุงูุฃูููุฉ ููุจุงูุงุช ุงูุฃุฑุจุนุฉ

5. **`config/services.php`** โ
   - ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช Ziina

### Frontend Files

6. **`resources/js/Pages/Packages/Index.jsx`** โ
   - ุตูุญุฉ ุนุฑุถ ุงูุจุงูุงุช
   - ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ ูุญุฏูุซุฉ
   - ุนุฑุถ ุงููููุฒุงุช ูุงูุฃุณุนุงุฑ
   - ุฒุฑ ุงูุงุดุชุฑุงู

7. **`resources/js/Pages/Packages/MySubscriptions.jsx`** โ
   - ุนุฑุถ ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏู
   - ุฅูุบุงุก ุงูุงุดุชุฑุงู
   - ุนุฑุถ ุญุงูุฉ ุงูุงุดุชุฑุงู ูุงูุชูุงุตูู

### Routes

8. **`routes/web.php`** โ
   - Routes ููุจุงูุงุช ูุงูุงุดุชุฑุงูุงุช
   - Routes ูุนูููุงุช ุงูุฏูุน
   - Webhook route ูู Ziina

---

## โ๏ธ ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช

### 1. ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ุฅูู ููู `.env`:

```env
# Ziina Payment Gateway Configuration
ZIINA_API_KEY=X9/fD/i0a/tMsFNdtyOytEgEP4r0/J6KwjEr1TJaeL39JYHUaOKq7+YSfMyP32ev
ZIINA_WEBHOOK_SECRET=
ZIINA_TEST_MODE=true
```

### 2. ุชุดุบูู Migrations

ุงูุฌุฏุงูู ููุฌูุฏุฉ ุจุงููุนู ูู ุงููุธุงู ุงูุณุงุจู:
- `packages` table
- `user_packages` table
- `payments` table

### 3. ุชุดุบูู Seeder ูุฅูุดุงุก ุงูุจุงูุงุช

```bash
php artisan db:seed --class=PackagesSeeder
```

### 4. ุชุซุจูุช Dependencies (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

```bash
composer install
npm install
npm run build
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู:

1. **ุนุฑุถ ุงูุจุงูุงุช:**
   - ุงูุฐูุงุจ ุฅูู: `/packages`
   - ุณูุชู ุนุฑุถ ุงูุจุงูุงุช ุงูุฃุฑุจุนุฉ ูุน ุฌููุน ุงูุชูุงุตูู

2. **ุงูุงุดุชุฑุงู ูู ุจุงูุฉ:**
   - ุงูุถุบุท ุนูู ุฒุฑ "ุงุดุชุฑู ุงูุขู"
   - ุณูุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุงูุฏูุน ูู Ziina
   - ุฅููุงู ุนูููุฉ ุงูุฏูุน
   - ุงูุนูุฏุฉ ุฅูู ุงููููุน ูุน ุชูุนูู ุงูุงุดุชุฑุงู ุชููุงุฆูุงู

3. **ุนุฑุถ ุงูุงุดุชุฑุงูุงุช:**
   - ุงูุฐูุงุจ ุฅูู: `/my-subscriptions`
   - ุนุฑุถ ุฌููุน ุงูุงุดุชุฑุงูุงุช ุงูุญุงููุฉ ูุงูุณุงุจูุฉ

4. **ุฅูุบุงุก ุงูุงุดุชุฑุงู:**
   - ูู ุตูุญุฉ "ุงุดุชุฑุงูุงุชู"
   - ุงูุถุบุท ุนูู "ุฅูุบุงุก ุงูุงุดุชุฑุงู"

### ูููุณุคูููู:

1. **ุฅุฏุงุฑุฉ ุงูุจุงูุงุช:**
   - ุงูุฐูุงุจ ุฅูู: `/admin/packages`
   - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุจุงูุงุช

2. **ุนุฑุถ ุงููุดุชุฑููู:**
   - ูู ุตูุญุฉ ุงูุจุงูุงุช ูู ููุญุฉ ุงูุชุญูู
   - ุงูุถุบุท ุนูู "ุงููุดุชุฑููู"
   - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช (ุชุฌุฏูุฏุ ุฅูุบุงุกุ ุชุญุฏูุซ ุงูุญุงูุฉ)

---

## ๐ ุงูุฃูุงู

### Webhook Security
- ุงูุชุญูู ูู Signature ููู Webhooks
- ุงูุชุญูู ูู ุงููุตุฏุฑ
- Logging ูุฌููุน ุงูุนูููุงุช

### Payment Security
- ุงุณุชุฎุฏุงู ุจูุงุจุฉ Ziina ุงูุขููุฉ
- ุนุฏู ุชุฎุฒูู ูุนูููุงุช ุจุทุงูุงุช ุงุฆุชูุงููุฉ
- HTTPS ูุฌููุน ุงูุงุชุตุงูุงุช

---

## ๐ ุชุฏูู ุนูููุฉ ุงูุฏูุน

```
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุจุงูุฉ
   โ
2. ุฅูุดุงุก UserPackage ุจุญุงูุฉ "pending"
   โ
3. ุฅูุดุงุก Payment record
   โ
4. ุฅูุดุงุก Payment Request ูู Ziina
   โ
5. ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ุงูุฏูุน ูู Ziina
   โ
6. ุงููุณุชุฎุฏู ูุฏูุน
   โ
7. Ziina ุชุฑุณู Webhook
   โ
8. ุชุญุฏูุซ Payment ู UserPackage ุฅูู "completed" ู "active"
   โ
9. ุฅุถุงูุฉ ุงูููุงุท ุงูุฅุถุงููุฉ ูููุณุชุฎุฏู
   โ
10. ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ุงููุฌุงุญ
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ (Test Mode)

ุญุงููุงู ุงููุธุงู ูู ูุถุน ุงูุงุฎุชุจุงุฑ:
- `ZIINA_TEST_MODE=true`
- ุงุณุชุฎุฏุงู Sandbox URL ูู Ziina
- ูุง ูุชู ุฎุตู ุฃููุงู ุญููููุฉ

### ููุงูุชูุงู ุฅูู Production:

1. ุชุบููุฑ `ZIINA_TEST_MODE=false`
2. ุงุณุชุฎุฏุงู Production API Key ูู Ziina
3. ุงุฎุชุจุงุฑ ุดุงูู ูู ุจูุฆุฉ Production

---

## ๐ Webhooks

### Ziina Webhook URL:
```
https://yourdomain.com/webhook/ziina
```

### ุงูุฃุญุฏุงุซ ุงููุฏุนููุฉ:
- `payment_request.paid` - ุฏูุน ูุงุฌุญ
- `payment_request.failed` - ุฏูุน ูุงุดู
- `payment_request.cancelled` - ุฏูุน ููุบู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Ziina API Key:**
   - ุงูููุชุงุญ ุงูููุฏู: `X9/fD/i0a/tMsFNdtyOytEgEP4r0/J6KwjEr1TJaeL39JYHUaOKq7+YSfMyP32ev`
   - ุชุฃูุฏ ูู ุตุญุชู ูู ููุญุฉ ุชุญูู Ziina

2. **Webhook Secret:**
   - ูุฌุจ ุงูุญุตูู ุนููู ูู ููุญุฉ ุชุญูู Ziina
   - ูุทููุจ ููุชุญูู ูู ุตุญุฉ ุงูู Webhooks

3. **Currency:**
   - ุฌููุน ุงูุจุงูุงุช ุจุนููุฉ AED (ุฏุฑูู ุฅูุงุฑุงุชู)
   - ูููู ุชุบููุฑ ุงูุนููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

4. **Duration:**
   - ุฌููุน ุงูุจุงูุงุช ุดูุฑูุฉ ุญุงููุงู
   - ูููู ุฅุถุงูุฉ ุจุงูุงุช ุฑุจุน ุณูููุฉ ุฃู ุณูููุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ูุนูู ุงูุฏูุน:

1. **ุชุญูู ูู Logs:**
   ```bash
   tail -f storage/logs/laravel.log
   ```

2. **ุชุญูู ูู API Key:**
   - ุชุฃูุฏ ูู ุตุญุฉ `ZIINA_API_KEY` ูู `.env`

3. **ุชุญูู ูู Test Mode:**
   - ุชุฃูุฏ ูู `ZIINA_TEST_MODE=true`

4. **ุชุญูู ูู Webhook URL:**
   - ุชุฃูุฏ ูู ุฅุถุงูุฉ URL ูู ููุญุฉ ุชุญูู Ziina

---

## ๐ ุงูุฏุนู

ูู ุญุงู ูุฌูุฏ ูุดุงูู:
1. ุฑุงุฌุน Logs: `storage/logs/laravel.log`
2. ุฑุงุฌุน ุชูุซูู Ziina API
3. ุชุญูู ูู ุญุงูุฉ Payment ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โจ ุงููุฒุงูุง ุงูุฅุถุงููุฉ

- โ ุฏุนู RTL ูุงูู ููุนุฑุจูุฉ
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ ูุฌุฐุงุจุฉ
- โ Responsive Design
- โ Real-time status updates
- โ Automatic points addition
- โ Email notifications (ูููู ุฅุถุงูุชูุง)
- โ Admin dashboard integration

---

## ๐ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ููุจุงูุงุช ูุงูุงุดุชุฑุงูุงุช ูุน ุงูุฑุจุท ุงููุงูู ุจุจูุงุจุฉ ุฏูุน Ziina ูู ูุถุน ุงูุงุฎุชุจุงุฑ.

### ุงูุฎุทูุงุช ุงูุชุงููุฉ:
1. ุชุดุบูู Seeder ูุฅูุดุงุก ุงูุจุงูุงุช
2. ุงุฎุชุจุงุฑ ุนูููุฉ ุงูุฏูุน
3. ุฅุนุฏุงุฏ Webhook ูู ููุญุฉ ุชุญูู Ziina
4. ุงูุจุฏุก ูู ุงุณุชูุจุงู ุงูุงุดุชุฑุงูุงุช! ๐

